<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-06-03T02:26:19.3115376"><title>Eksterna HTML Stranica za Kontakt - Slanje na Bazu | Music Streaming Service</title><script type="application/json" id="virtual-toc-data">[{"id":"pregled","level":0,"title":"Pregled","anchor":"#pregled"},{"id":"integracija-sa-supabase","level":0,"title":"Integracija sa Supabase","anchor":"#integracija-sa-supabase"},{"id":"vanjska-html-kontakt-stranica","level":0,"title":"Vanjska HTML Kontakt Stranica","anchor":"#vanjska-html-kontakt-stranica"},{"id":"dodavanje-u-contactus-html","level":0,"title":"Dodavanje u ContactUs.html","anchor":"#dodavanje-u-contactus-html"},{"id":"postavljanje-baze-podataka","level":0,"title":"Postavljanje Baze Podataka","anchor":"#postavljanje-baze-podataka"},{"id":"javascript-logika-za-podno-enje-kontakt-forme","level":0,"title":"JavaScript Logika za Podnošenje Kontakt Forme","anchor":"#javascript-logika-za-podno-enje-kontakt-forme"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b259/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Eksterna HTML Stranica za Kontakt - Slanje na Bazu | Music Streaming Service"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Music Streaming Service Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/eksterna-html-stranica-za-kontakt-slanje-na-bazu.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Eksterna HTML Stranica za Kontakt - Slanje na Bazu | Music Streaming Service"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/eksterna-html-stranica-za-kontakt-slanje-na-bazu.html#webpage",
    "url": "writerside-documentation/eksterna-html-stranica-za-kontakt-slanje-na-bazu.html",
    "name": "Eksterna HTML Stranica za Kontakt - Slanje na Bazu | Music Streaming Service",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Music Streaming Service Help"
}</script><!-- End Schema.org --></head><body data-id="Eksterna-HTML-Stranica-za-Kontakt-Slanje-na-Bazu" data-main-title="Eksterna HTML Stranica za Kontakt - Slanje na Bazu" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs=""><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Music Streaming Service  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Eksterna-HTML-Stranica-za-Kontakt-Slanje-na-Bazu" id="Eksterna-HTML-Stranica-za-Kontakt-Slanje-na-Bazu.md">Eksterna HTML Stranica za Kontakt - Slanje na Bazu</h1><section class="chapter"><h2 id="pregled" data-toc="pregled">Pregled</h2><p id="-jzq4u1_54">Ovaj projekt uključivao je kreiranje kontakt forme koja &scaron;alje JSON podatke na Supabase server. Projekt je koristio React, Supabase, TypeScript i Tailwind CSS.</p></section><section class="chapter"><h2 id="integracija-sa-supabase" data-toc="integracija-sa-supabase">Integracija sa Supabase</h2></section><section class="chapter"><h2 id="vanjska-html-kontakt-stranica" data-toc="vanjska-html-kontakt-stranica">Vanjska HTML Kontakt Stranica</h2><p id="-jzq4u1_55">U na&scaron;u vanjsku HTML kontakt stranicu uključili smo CDN uvoz za Supabase jer nije bila unutar direktorija komponenti i zahtijevala je slanje JSON podataka na Supabase server.</p></section><section class="chapter"><h2 id="dodavanje-u-contactus-html" data-toc="dodavanje-u-contactus-html">Dodavanje u <code class="code" id="-jzq4u1_57">ContactUs.html</code></h2><div class="code-block" data-lang="markup">
&lt;script src=&quot;https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;module&quot; src=&quot;push-kontakt.js&quot;&gt;&lt;/script&gt;
</div></section><section class="chapter"><h2 id="postavljanje-baze-podataka" data-toc="postavljanje-baze-podataka">Postavljanje Baze Podataka</h2><p id="-jzq4u1_59">Kako bismo pratili kontaktne zahtjeve i poruke primljene od strane servera, kreirana je nova SQL tabela pod nazivom <code class="code" id="-jzq4u1_60">kontakt_upiti</code>:</p><div class="code-block" data-lang="sql">
create table public.kontakt_upiti (
  id bigint generated by default as identity,
  created_at timestamp with time zone not null default now(),
  ime character varying null,
  prezime character varying null,
  broj_tel character varying null,
  email character varying null,
  poruka text null,
  ip_adresa text null,
  constraint kontakt_upiti_pkey primary key (id)
) tablespace pg_default;
</div></section><section class="chapter"><h2 id="javascript-logika-za-podno-enje-kontakt-forme" data-toc="javascript-logika-za-podno-enje-kontakt-forme">JavaScript Logika za Podno&scaron;enje Kontakt Forme</h2><p id="-jzq4u1_62">Kreiran je novi JavaScript fajl za rukovanje logikom podno&scaron;enja kontakt forme i upravljanje varijablama okruženja.</p><section class="chapter"><h3 id="env-vars-js" data-toc="env-vars-js"><code class="code" id="-jzq4u1_64">env_vars.js</code></h3><div class="code-block" data-lang="javascript">
export const url_path = SUPABASE_URL;
export const api_key = SUPABASE_KEY;
</div></section><section class="chapter"><h3 id="push-kontakt-js" data-toc="push-kontakt-js"><code class="code" id="-jzq4u1_67">push-kontakt.js</code></h3><div class="code-block" data-lang="javascript">
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';
import { url_path, api_key } from './env-vars.js';

document.addEventListener('DOMContentLoaded', function() {
    
    // Inicijalizacija Supabase klijenta
    const supabase = createClient(url_path, api_key);

    // Event listener za podnošenje forme
    document.getElementById(&quot;loginForm&quot;).addEventListener(&quot;submit&quot;, async (e) =&gt; {
        e.preventDefault();

        // Preuzimanje podataka iz forme
        let ime = document.getElementById(&quot;ime&quot;).value;
        let prezime = document.getElementById(&quot;prezime&quot;).value;
        let email = document.getElementById(&quot;email&quot;).value;
        let telefon = document.getElementById(&quot;telefon&quot;).value;
        let poruka = document.getElementById(&quot;poruka&quot;).value;

        // Objekt sa podacima iz forme
        let submit_data = {
            ime: ime,
            prezime: prezime,
            email: email,
            telefon: telefon,
            poruka: poruka
        };

        for (const key in submit_data) {
            console.log(`${key}: ${submit_data[key]}`);
        }

        const { error } = await supabase
            .from('kontakt_upiti')
            .insert({
                ime: submit_data.ime,
                prezime: submit_data.prezime,
                email: submit_data.email,
                broj_tel: submit_data.telefon,
                poruka: submit_data.poruka,
                ip_adresa: '1234'
            });

        if (error) {
            console.error('Greška prilikom unosa podataka:', error.message);
        } else {
            console.log('Podaci uspješno uneseni:', data);
        }
    });
});
</div><p id="-jzq4u1_69">Ova dokumentacija pruža strukturiran pregled koraka poduzetih za integraciju Supabase u projekt, postavljanje baze podataka i implementaciju logike podno&scaron;enja kontakt forme.</p></section></section><div class="last-modified">Last modified: 03 June 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="supabase-modali-za-autentifikaciju-funkcionalnosti.html" class="navigation-links__prev">Postavljanje Supabase Zavistnosti</a><a href="inicijalni-layout-setup.html" class="navigation-links__next">Inicijalno Postavljanje Layouta</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b259/app.js"></script></body></html>